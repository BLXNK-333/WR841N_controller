# FixRouterProblem (WR841N)

## Описание

**FixRouterProblem** — это инструмент для автоматического устранения проблем с подключением к интернету через маршрутизатор. Если соединение с интернетом отсутствует, скрипт пытается:

1. Переподключить PPPoE соединение.
2. Перезагрузить маршрутизатор через веб-интерфейс.
3. Если оба шага не помогли, уведомить пользователя о необходимости ручной перезагрузки.

## Установка и зависимости

Для работы скрипта необходим Python 3.8+ и следующие зависимости:

```sh
pip install selenium
```

Также требуется веб-драйвер (geckodriver для Firefox).

### Установка geckodriver

1. Скачайте последнюю версию [geckodriver](https://github.com/mozilla/geckodriver/releases) для вашей системы.
2. Распакуйте архив.
3. Переместите исполняемый файл `geckodriver` в `/usr/local/bin/` или любой другой каталог, указанный в `PATH`.
4. Проверьте успешность установки:
   ```sh
   geckodriver --version
   ```
   Если команда выводит версию драйвера, установка прошла успешно.

## Использование

```python
from fix_router_problem import FixRouterProblem

with FixRouterProblem():
    pass
```

## Как работает скрипт

1. Проверяет подключение к маршрутизатору.
2. Проверяет подключение к интернету.
3. Если интернет доступен, предлагает пользователю подтвердить, продолжать ли работу.
4. Авторизуется в веб-интерфейсе маршрутизатора.
5. Пытается переподключить PPPoE соединение.
6. Если не удаётся восстановить соединение, выполняет мягкую перезагрузку маршрутизатора.
7. Если и это не помогает, выдаёт предупреждение о необходимости физической перезагрузки.

## Конфигурация
Перед запуском необходимо настроить файл окружения. Переименуйте `.env.example` в `.env` и укажите ваши данные:

```
# [authorization]
USER_NAME = "admin"
PASSWORD = "password"
URL = "http://192.168.0.1/"
```

## Логирование
Логи работы хранятся в `outer` (внешние предупреждения) и основном логгере (`FixRouterProblem`).

## Ограничения

- Скрипт работает только с маршрутизаторами, имеющими веб-интерфейс и поддерживающими автоматизированное управление через Selenium.
- Требуется корректная настройка авторизационных данных.

## Лицензия

MIT License.

